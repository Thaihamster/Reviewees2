<% provide(:title, "新規投稿") %>
  <div class="container">
    <div class="col-md-4 col-md-offset-4">
      <div class="text-center">
        <h1>お気に入りの日用品を投稿</h1>
      </div>
      <%= form_for(@post) do |f| %>
        <%= render 'shared/error_messages', object: f.object %>

        <%= f.label :商品名 %><span class="badge badge-danger">必須</span>
        <%= f.text_field :name, class: 'form-control', :placeholder => "例）キレイキレイ" %>

        <%= f.label :感想 %><span class="badge badge-danger">必須</span>
        <%= f.text_area :content, :placeholder => "250文字以内で感想を書いてください" %>

        <%= f.label :商品の写真 %><span class="badge badge-secondary">任意</span>
        <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png', class: "image", style: "display:none;", id: "file"%>
        <div class="w-100">
          <label class="btn btn-file-upload" for="file"><i class="fas fa-plus fa-lg"></i><i class="far fa-images fa-2x"></i>
        </div>

        <%= f.submit "投稿", class: "btn btn-signup" %>
      <% end %>
    </div>
  </div>

  <script type="text/javascript">
  $('#post_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('許容ファイルサイズは5MBまでです。 他のファイルを選択してください');
    }
  });
</script>
